covsZ = cbind(state.d, df$mulher)
poli = 1
r8 = rdrobust(df$Y_hosp ,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd", subset = amostra, covs = covsZ)
r9 = rdrobust(df$Y_deaths_sivep,  df$X, kernel = k, h = janela,   bwselect = "mserd", p = poli,  subset = amostra, covs = covsZ)
models <- list("Panel A: Deaths" = list(r7,
r9,
r3,
r5),
"Panel B: Hospitalizations" = list(r6,
r8,
r2,
r4)
)
teste <- modelsummary(models,
shape = "rbind",
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = paste(output_dir, "/bigsample_estimates.tex", sep = ""),
output = "gt",
title = "Impact of STEM Leadership on Epidemiological Outcomes — RD estimates",
coef_omit = "Corrected|Conventional")
teste
covsZ = cbind(state.d)
poli = 1
janela = cbind()
r2 = rdrobust(df$Y_hosp,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd", subset = amostra, covs = covsZ)
r3 = rdrobust(df$Y_deaths_sivep, df$X, p = poli, kernel = k,  h = janela,  bwselect = "mserd",  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 2
janela = cbind()
r4 = rdrobust(df$Y_hosp ,  df$X, p = poli, kernel = k,  h = janela,  subset = amostra, covs = covsZ)
r5 = rdrobust(df$Y_deaths_sivep, df$X, kernel = k, h = janela,    p = poli,  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 1
janela = 0.05
r6 = rdrobust(df$Y_hosp, df$X, p = poli, kernel = k,  h = janela,  bwselect = "mserd", subset = amostra, covs = covsZ)
r7 = rdrobust(df$Y_deaths_sivep,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd",  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 2
r8 = rdrobust(df$Y_hosp ,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd", subset = amostra, covs = covsZ)
r9 = rdrobust(df$Y_deaths_sivep,  df$X, kernel = k, h = janela,   bwselect = "mserd", p = poli,  subset = amostra, covs = covsZ)
models <- list("Panel A: Deaths" = list(r7,
r9,
r3,
r5),
"Panel B: Hospitalizations" = list(r6,
r8,
r2,
r4)
)
teste <- modelsummary(models,
shape = "rbind",
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = paste(output_dir, "/bigsample_estimates.tex", sep = ""),
output = "gt",
title = "Impact of STEM Leadership on Epidemiological Outcomes — RD estimates",
coef_omit = "Corrected|Conventional")
teste
covsZ = cbind(state.d)
janela = cbind()
poli = 2
mulher <- rdrobust(df$mulher, h = janela, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
reeleito <- rdrobust(df$reeleito, h = janela, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
idade <- rdrobust(df$idade, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
#ens.sup <- rdrobust(df$instrucao, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
ideology <- rdrobust(df$ideology_party, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
models <- list(
"Women" = mulher,
"Incumbent" = reeleito,
"Age" = idade,
#"Education" = ens.sup,
"Mayors' party ideology" = ideology)
teste_chr <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = "Dados/output/221103_bigsample_personal_charac.tex",
output = "gt",
title = "STEM candidates' personal characteristics — RD estimates",
coef_omit = "Corrected|Conventional")
teste_chr
covsZ = cbind(state.d)
poli = 1
k = "triangular"
janela = cbind(state.d)
r1 = rdrobust(df$total_nfi,  df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
r2 = rdrobust(df$mascaras, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r3 = rdrobust(df$restricao_atv_nao_essenciais, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r4 = rdrobust(df$restricao_circulacao, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r5 = rdrobust(df$restricao_transporte_publico, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r6 = rdrobust(df$barreiras_sanitarias, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 2
r12 = rdrobust(df$total_nfi, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
r22 = rdrobust(df$mascaras, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r32 = rdrobust(df$restricao_atv_nao_essenciais, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r42 = rdrobust(df$restricao_circulacao, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r52 = rdrobust(df$restricao_transporte_publico, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r62 = rdrobust(df$barreiras_sanitarias, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
models <- list("Total NFI" = r1,
"Masks" = r2,
"Restrictions atv." = r3,
"Restrictions circu." = r4,
"Restrictions transp." = r5,
"Sani barriers" = r6,
"Total NFI" = r12,
"Masks" = r22,
"Restrictions atv." = r32,
"Restrictions circu." = r42,
"Restrictions transp." = r52,
"Sani barriers" = r62)
mr3 <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places,
output = "gt",
title = "Impact of STEM Candidate Elected in 2016 on COVID-19 Epidemiological Outcomes per 100k inhabitants in 2021 — RD estimates without controls",
coef_omit = "Bias-Corrected|Conventional")
mr3 %>%
tab_spanner(label = "(1)", columns = 2:7) %>%
tab_spanner(label = "(2)", columns = 8:13)
covsZ = cbind(state.d, df$total_nfi)
poli = 1
r1 = rdrobust(df$Y_hosp, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
r2 = rdrobust(df$Y_deaths_sivep, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
poli = 2
covsZ = cbind(state.d, df$total_nfi)
r3 = rdrobust(df$Y_hosp, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
r4 = rdrobust(df$Y_deaths_sivep, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
models <- list("Hospitalizations" = r1,
"Deaths" = r2,
"Hospitalizations" = r3,
"Deaths" = r4)
mr4 <- modelsummary(models,
estimate = "{estimate}",
statistic = c("{p.value}{stars}","[{conf.low}, {conf.high}]"),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
output = "gt",
title = "Impact of STEM Candidate controlling for Non-Farmaceutical Intervations (NFIs) — RD estimates with fixed effects (optimal bandwidth)",
coef_omit = "Bias-Corrected|Conventional")
mr4 %>%
tab_spanner(label = "Linear", columns = 2:3) %>%
tab_spanner(label = "Quadratic", columns = 4:5)
CovsZ = cbind(state.d) # mechanisms
k = 'triangular'
df_robs_hosp <- robust_check(df$Y_hosp, 1, CovsZ, k)
df_robs_deaths <- robust_check(df$Y_deaths_sivep, 1, CovsZ, k)
df_robs_nfi <- robust_check(df$total_nfi, 1, CovsZ, k)
df_robs_masks <- robust_check(df$mascaras, 1, CovsZ, k)
df_robs_trans_pub <- robust_check(df$restricao_transporte_publico, 1, CovsZ, k)
df_robs_circu <- robust_check(df$restricao_circulacao, 1, CovsZ, k)
df_robs_atv <- robust_check(df$restricao_atv_nao_essenciais, 1, CovsZ, k)
df_robs_sani <- robust_check(df$barreiras_sanitarias, 1, CovsZ, k)
plot_hosp_robs <-  ggplot(df_robs_hosp, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.00, 0.2) +
#ylim(-750, 200) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 12),
title = element_text(size = 12)) +
ggtitle("(b) COVID-19 hospitalizations") +
theme(plot.title = element_text(hjust = 0.5)) +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_hosp_robs
plot_deaths_robs <-  ggplot(df_robs_deaths, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.00, 0.2) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 12),
title = element_text(size = 12)) +
ggtitle("(a) COVID-19 deaths") +
theme(plot.title = element_text(hjust = 0.5)) +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_deaths_robs
plot_deaths_robs / plot_hosp_robs
plot_nfi_robs <-  ggplot(df_robs_nfi, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.02, 0.2) +
# ylim(-5,10) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 10)) +
ggtitle("(a) Total number of NPIs") +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_nfi_robs
plot_nfi_masks <-  ggplot(df_robs_masks, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.02, 0.2) +
# ylim(-5,10) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 10)) +
ggtitle("(b) Face covering restrictions") +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_nfi_masks
plot_nfi_trans <-  ggplot(df_robs_trans_pub, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.02, 0.2) +
# ylim(-5,10) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 10)) +
ggtitle("(c) Transportation restrictions") +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_nfi_trans
plot_nfi_sani <-  ggplot(df_robs_sani, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.02, 0.2) +
# ylim(-5,10) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 10)) +
ggtitle("(d) Cordon sanitaire restrictions") +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_nfi_atv <-  ggplot(df_robs_atv, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.02, 0.2) +
# ylim(-5,10) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 10)) +
ggtitle("(e) Non-essential activ. restrictions") +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
plot_nfi_circu <-  ggplot(df_robs_circu, aes(x = bw, y = coef_robs)) +
geom_point(na.rm = TRUE) +
xlim(0.02, 0.2) +
# ylim(-5,10) +
ylab("") +
xlab("bandwidth") +
theme(axis.title = element_text(size = 10)) +
ggtitle("(f) Public gathering restrictions") +
geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
geom_ribbon(aes(ymin = ci_lower_rob, ymax = ci_higher_rob), alpha = 0.2)
graf <- (plot_nfi_robs + plot_nfi_masks) / ( plot_nfi_sani + plot_nfi_trans) / (plot_nfi_atv + plot_nfi_circu)
graf
plot_nfi_robs
amostra = cbind()
covsZ = cbind(state.d)
poli = 2
#janela = 0.07
janela = cbind()
k = "triangular"
#rdrobust(df$taxa_analfabetismo_18_mais, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
#taxa_analfabetismo_18_mais <- rdrobust(df$taxa_analfabetismo_18_mais, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
#indice_gini <- rdrobust(df$indice_gini,  df$X, p = poli, kernel = k, h = janela, subset = amostra, covs = covsZ)
renda_pc <- rdrobust(df$renda_pc,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
populacao <- rdrobust(log(df$populacao),  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
idhm <- rdrobust(df$idhm,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
densidade <- rdrobust(log(df$densidade),  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
per_populacao_homens <- rdrobust(df$per_populacao_homens,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
pct_desp_recp_saude_mun <- rdrobust(df$pct_desp_recp_saude_mun,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
tx_med_ch <- rdrobust(df$tx_med_ch, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
cob_esf <- rdrobust(df$cob_esf,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
tx_leito_sus <- rdrobust(df$tx_leito_sus, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
ideology_municipality <- rdrobust(df$ideology_municipality, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
models <- list(
# "Gini" = indice_gini,
"PC income" = renda_pc,
"Ln Populacao" = populacao,
#"Illiteracy" = taxa_analfabetismo_18_mais,
"HDI" = idhm,
"Ln Density" = densidade,
"% Masc. Pop" = per_populacao_homens,
"% Health municipal spending" = pct_desp_recp_saude_mun,
"Doctors per 1k pop." = tx_med_ch,
"Community health agents program " = cob_esf,
"Hosp. beds per 100k pop." = tx_leito_sus,
"Mun. ideology index" = ideology_municipality)
baseline_table <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = "Dados/output/bigsample_baseline.tex",
output = "gt",
title = "Baseline Characteristis - RD estimates",
coef_omit = "Corrected|Conventional")%>%
tab_spanner(label = "Demography", columns = 2:6) %>%
tab_spanner(label = "Health", columns = 7:10) %>%
tab_spanner(label = "Ideology", columns = 11)
baseline_table
amostra = cbind()
covsZ = cbind(state.d)
poli = 1
#janela = 0.07
janela = cbind()
k = "triangular"
#rdrobust(df$taxa_analfabetismo_18_mais, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
#taxa_analfabetismo_18_mais <- rdrobust(df$taxa_analfabetismo_18_mais, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
#indice_gini <- rdrobust(df$indice_gini,  df$X, p = poli, kernel = k, h = janela, subset = amostra, covs = covsZ)
renda_pc <- rdrobust(df$renda_pc,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
populacao <- rdrobust(log(df$populacao),  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
idhm <- rdrobust(df$idhm,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
densidade <- rdrobust(log(df$densidade),  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
per_populacao_homens <- rdrobust(df$per_populacao_homens,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
pct_desp_recp_saude_mun <- rdrobust(df$pct_desp_recp_saude_mun,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
tx_med_ch <- rdrobust(df$tx_med_ch, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
cob_esf <- rdrobust(df$cob_esf,  df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
tx_leito_sus <- rdrobust(df$tx_leito_sus, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
ideology_municipality <- rdrobust(df$ideology_municipality, df$X, p = poli, kernel = k, h = janela, bwselect = "mserd", subset = amostra, covs = covsZ)
models <- list(
# "Gini" = indice_gini,
"PC income" = renda_pc,
"Ln Populacao" = populacao,
#"Illiteracy" = taxa_analfabetismo_18_mais,
"HDI" = idhm,
"Ln Density" = densidade,
"% Masc. Pop" = per_populacao_homens,
"% Health municipal spending" = pct_desp_recp_saude_mun,
"Doctors per 1k pop." = tx_med_ch,
"Community health agents program " = cob_esf,
"Hosp. beds per 100k pop." = tx_leito_sus,
"Mun. ideology index" = ideology_municipality)
baseline_table <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = "Dados/output/bigsample_baseline.tex",
output = "gt",
title = "Baseline Characteristis - RD estimates",
coef_omit = "Corrected|Conventional")%>%
tab_spanner(label = "Demography", columns = 2:6) %>%
tab_spanner(label = "Health", columns = 7:10) %>%
tab_spanner(label = "Ideology", columns = 11)
baseline_table
covsZ = cbind(state.d)
poli = 1
janela = cbind()
r2 = rdrobust(df$Y_hosp,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd", subset = amostra, covs = covsZ)
r3 = rdrobust(df$Y_deaths_sivep, df$X, p = poli, kernel = k,  h = janela,  bwselect = "mserd",  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 2
janela = cbind()
r4 = rdrobust(df$Y_hosp ,  df$X, p = poli, kernel = k,  h = janela,  subset = amostra, covs = covsZ)
r5 = rdrobust(df$Y_deaths_sivep, df$X, kernel = k, h = janela,    p = poli,  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 1
janela = 0.05
r6 = rdrobust(df$Y_hosp, df$X, p = poli, kernel = k,  h = janela,  bwselect = "mserd", subset = amostra, covs = covsZ)
r7 = rdrobust(df$Y_deaths_sivep,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd",  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 2
r8 = rdrobust(df$Y_hosp ,  df$X, p = poli, kernel = k, h = janela,   bwselect = "mserd", subset = amostra, covs = covsZ)
r9 = rdrobust(df$Y_deaths_sivep,  df$X, kernel = k, h = janela,   bwselect = "mserd", p = poli,  subset = amostra, covs = covsZ)
models <- list("Panel A: Deaths" = list(r7,
r9,
r3,
r5),
"Panel B: Hospitalizations" = list(r6,
r8,
r2,
r4)
)
teste <- modelsummary(models,
shape = "rbind",
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = paste(output_dir, "/bigsample_estimates.tex", sep = ""),
output = "gt",
title = "Impact of STEM Leadership on Epidemiological Outcomes — RD estimates",
coef_omit = "Corrected|Conventional")
teste
covsZ = cbind(state.d)
janela = cbind()
poli = 1
mulher <- rdrobust(df$mulher, h = janela, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
reeleito <- rdrobust(df$reeleito, h = janela, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
idade <- rdrobust(df$idade, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
#ens.sup <- rdrobust(df$instrucao, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
ideology <- rdrobust(df$ideology_party, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
models <- list(
"Women" = mulher,
"Incumbent" = reeleito,
"Age" = idade,
#"Education" = ens.sup,
"Mayors' party ideology" = ideology)
teste_chr <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = "Dados/output/221103_bigsample_personal_charac.tex",
output = "gt",
title = "STEM candidates' personal characteristics — RD estimates",
coef_omit = "Corrected|Conventional")
teste_chr
covsZ = cbind(state.d)
janela = cbind()
poli = 1
mulher <- rdrobust(df$mulher, h = janela, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
reeleito <- rdrobust(df$reeleito, h = janela, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
idade <- rdrobust(df$idade, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
ens.sup <- rdrobust(df$instrucao, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
ideology <- rdrobust(df$ideology_party, h = janela, df$X, p = poli, kernel = k, subset = amostra, covs = covsZ)
models <- list(
"Women" = mulher,
"Incumbent" = reeleito,
"Age" = idade,
"Education" = ens.sup,
"Mayors' party ideology" = ideology)
teste_chr <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"
),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
#output = "Dados/output/221103_bigsample_personal_charac.tex",
output = "gt",
title = "STEM candidates' personal characteristics — RD estimates",
coef_omit = "Corrected|Conventional")
teste_chr
covsZ = cbind(state.d)
poli = 1
k = "triangular"
janela = cbind()
r1 = rdrobust(df$total_nfi,  df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
r2 = rdrobust(df$mascaras, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r3 = rdrobust(df$restricao_atv_nao_essenciais, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r4 = rdrobust(df$restricao_circulacao, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r5 = rdrobust(df$restricao_transporte_publico, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r6 = rdrobust(df$barreiras_sanitarias, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
covsZ = cbind(state.d)
poli = 2
r12 = rdrobust(df$total_nfi, df$X, p = poli, kernel = k,  subset = amostra, covs = covsZ)
r22 = rdrobust(df$mascaras, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r32 = rdrobust(df$restricao_atv_nao_essenciais, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r42 = rdrobust(df$restricao_circulacao, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r52 = rdrobust(df$restricao_transporte_publico, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
r62 = rdrobust(df$barreiras_sanitarias, df$X,   p = poli, kernel = k,  subset = amostra, covs = covsZ)
models <- list("Total NFI" = r1,
"Masks" = r2,
"Restrictions atv." = r3,
"Restrictions circu." = r4,
"Restrictions transp." = r5,
"Sani barriers" = r6,
"Total NFI" = r12,
"Masks" = r22,
"Restrictions atv." = r32,
"Restrictions circu." = r42,
"Restrictions transp." = r52,
"Sani barriers" = r62)
mr3 <- modelsummary(models,
estimate = "{estimate}",
statistic = c("[{std.error}]","{p.value}{stars}"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places,
output = "gt",
title = "Impact of STEM Candidate Elected in 2016 on COVID-19 Epidemiological Outcomes per 100k inhabitants in 2021 — RD estimates without controls",
coef_omit = "Bias-Corrected|Conventional")
mr3 %>%
tab_spanner(label = "(1)", columns = 2:7) %>%
tab_spanner(label = "(2)", columns = 8:13)
covsZ = cbind(state.d, df$total_nfi)
poli = 1
r1 = rdrobust(df$Y_hosp, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
r2 = rdrobust(df$Y_deaths_sivep, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
poli = 2
covsZ = cbind(state.d, df$total_nfi)
r3 = rdrobust(df$Y_hosp, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
r4 = rdrobust(df$Y_deaths_sivep, df$X,  p = poli, kernel = k, subset = amostra, covs = covsZ)
models <- list("Hospitalizations" = r1,
"Deaths" = r2,
"Hospitalizations" = r3,
"Deaths" = r4)
mr4 <- modelsummary(models,
estimate = "{estimate}",
statistic = c("{p.value}{stars}","[{conf.low}, {conf.high}]"),
coef_rename = c("Robust" = "RD estimator"),
stars = c('*'=.1, '**'=.05, '***'=.01),
fmt = 2, # decimal places
output = "gt",
title = "Impact of STEM Candidate controlling for Non-Pharmaceutical Intervations (NFIs) — RD estimates with fixed effects (optimal bandwidth)",
coef_omit = "Bias-Corrected|Conventional")
mr4 %>%
tab_spanner(label = "Linear", columns = 2:3) %>%
tab_spanner(label = "Quadratic", columns = 4:5)
